(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[50],{8751:(e,r,t)=>{Promise.resolve().then(t.bind(t,6820))},6820:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>P});var s=t(5155),a=t(2115),l=t(241),i=t(8971),n=t(4085),d=t(2336),c=t(5007),o=t(2079),u=t(8166),m=t(1524),f=t(6611),h=t(3360),x="Avatar",[p,j]=(0,u.A)(x),[v,g]=p(x),N=a.forwardRef((e,r)=>{let{__scopeAvatar:t,...l}=e,[i,n]=a.useState("idle");return(0,s.jsx)(v,{scope:t,imageLoadingStatus:i,onImageLoadingStatusChange:n,children:(0,s.jsx)(h.sG.span,{...l,ref:r})})});N.displayName=x;var y="AvatarImage",w=a.forwardRef((e,r)=>{let{__scopeAvatar:t,src:l,onLoadingStatusChange:i=()=>{},...n}=e,d=g(y,t),c=function(e,r){let[t,s]=a.useState("idle");return(0,f.N)(()=>{if(!e){s("error");return}let t=!0,a=new window.Image,l=e=>()=>{t&&s(e)};return s("loading"),a.onload=l("loaded"),a.onerror=l("error"),a.src=e,r&&(a.referrerPolicy=r),()=>{t=!1}},[e,r]),t}(l,n.referrerPolicy),o=(0,m.c)(e=>{i(e),d.onImageLoadingStatusChange(e)});return(0,f.N)(()=>{"idle"!==c&&o(c)},[c,o]),"loaded"===c?(0,s.jsx)(h.sG.img,{...n,ref:r,src:l}):null});w.displayName=y;var A="AvatarFallback",b=a.forwardRef((e,r)=>{let{__scopeAvatar:t,delayMs:l,...i}=e,n=g(A,t),[d,c]=a.useState(void 0===l);return a.useEffect(()=>{if(void 0!==l){let e=window.setTimeout(()=>c(!0),l);return()=>window.clearTimeout(e)}},[l]),d&&"loaded"!==n.imageLoadingStatus?(0,s.jsx)(h.sG.span,{...i,ref:r}):null});b.displayName=A;var k=t(9602);let S=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(N,{ref:r,className:(0,k.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...a})});S.displayName=N.displayName;let C=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(w,{ref:r,className:(0,k.cn)("aspect-square h-full w-full",t),...a})});C.displayName=w.displayName;let R=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(b,{ref:r,className:(0,k.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...a})});R.displayName=b.displayName;var _=t(2316),E=t(4505),I=t(3473),L=t(5739);function P(){let[e,r]=(0,a.useState)([]),[t,u]=(0,a.useState)(""),[m,f]=(0,a.useState)(null),[h,x]=(0,a.useState)(null),[p,j]=(0,a.useState)(!0),[v,g]=(0,a.useState)(!1),N=(0,a.useRef)(null),{toast:y}=(0,l.dj)(),w=async()=>{j(!0);try{let e=await (0,L.zv)();r(e)}catch(e){console.error("Error loading artists:",e),y({title:"Error",description:"Failed to load artists",variant:"destructive"})}finally{j(!1)}};(0,a.useEffect)(()=>{w()},[]);let A=async e=>{if(e.preventDefault(),t.trim()&&m){g(!0);try{let e=new FormData;e.append("name",t),e.append("profile_image",m),await (0,L.RV)(e),y({title:"Success",description:"Artist added successfully"}),u(""),f(null),x(null),w()}catch(e){console.error("Error adding artist:",e),y({title:"Error",description:"Failed to add artist",variant:"destructive"})}finally{g(!1)}}};return(0,s.jsxs)(i.A,{children:[(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Artists"})}),(0,s.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,s.jsxs)(c.Zp,{children:[(0,s.jsxs)(c.aR,{children:[(0,s.jsx)(c.ZB,{children:"Add New Artist"}),(0,s.jsx)(c.BT,{children:"Add a new artist with profile image"})]}),(0,s.jsx)(c.Wu,{children:(0,s.jsxs)("form",{onSubmit:A,className:"space-y-4",children:[(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsx)(d.p,{placeholder:"Artist name",value:t,onChange:e=>u(e.target.value),disabled:v})}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"relative h-24 w-24 cursor-pointer rounded-md border border-dashed border-gray-300 flex items-center justify-center",onClick:()=>{var e;return null===(e=N.current)||void 0===e?void 0:e.click()},children:h?(0,s.jsx)("img",{src:h||"/placeholder.svg",alt:"Preview",className:"h-full w-full rounded-md object-cover"}):(0,s.jsx)(_.A,{className:"h-8 w-8 text-muted-foreground"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"Profile Image"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Upload a profile image for the artist"}),(0,s.jsx)(n.$,{type:"button",variant:"outline",size:"sm",className:"mt-2",onClick:()=>{var e;return null===(e=N.current)||void 0===e?void 0:e.click()},children:"Choose Image"})]})]}),(0,s.jsx)("input",{ref:N,type:"file",accept:"image/*",className:"hidden",onChange:e=>{if(e.target.files&&e.target.files[0]){let r=e.target.files[0];f(r),x(URL.createObjectURL(r))}},disabled:v})]}),(0,s.jsxs)(n.$,{type:"submit",className:"w-full",disabled:v||!t.trim()||!m,children:[v?(0,s.jsx)(E.A,{className:"h-4 w-4 animate-spin mr-2"}):(0,s.jsx)(I.A,{className:"h-4 w-4 mr-2"}),"Add Artist"]})]})})]}),(0,s.jsxs)(c.Zp,{children:[(0,s.jsxs)(c.aR,{children:[(0,s.jsx)(c.ZB,{children:"Artists List"}),(0,s.jsx)(c.BT,{children:"All available artists"})]}),(0,s.jsx)(c.Wu,{children:p?(0,s.jsx)("div",{className:"flex justify-center py-4",children:(0,s.jsx)(E.A,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):0===e.length?(0,s.jsx)("p",{className:"text-center text-muted-foreground py-4",children:"No artists found. Add your first artist."}):(0,s.jsxs)(o.XI,{children:[(0,s.jsx)(o.A0,{children:(0,s.jsxs)(o.Hj,{children:[(0,s.jsx)(o.nd,{children:"ID"}),(0,s.jsx)(o.nd,{children:"Image"}),(0,s.jsx)(o.nd,{children:"Name"})]})}),(0,s.jsx)(o.BF,{children:e.map(e=>(0,s.jsxs)(o.Hj,{children:[(0,s.jsx)(o.nA,{children:e.id}),(0,s.jsx)(o.nA,{children:(0,s.jsxs)(S,{children:[(0,s.jsx)(C,{src:e.profile_image,alt:e.name}),(0,s.jsx)(R,{children:e.name.charAt(0)})]})}),(0,s.jsx)(o.nA,{children:e.name})]},e.id))})]})})]})]})]}),(0,s.jsx)("div",{style:{height:"200px",width:"100%",marginBottom:"50px",backgroundColor:"none"}})]})}},2316:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(7401).A)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},4505:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(7401).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3473:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(7401).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8166:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var s=t(2115),a=t(5155);function l(e,r=[]){let t=[],i=()=>{let r=t.map(e=>s.createContext(e));return function(t){let a=t?.[e]||r;return s.useMemo(()=>({[`__scope${e}`]:{...t,[e]:a}}),[t,a])}};return i.scopeName=e,[function(r,l){let i=s.createContext(l),n=t.length;t=[...t,l];let d=r=>{let{scope:t,children:l,...d}=r,c=t?.[e]?.[n]||i,o=s.useMemo(()=>d,Object.values(d));return(0,a.jsx)(c.Provider,{value:o,children:l})};return d.displayName=r+"Provider",[d,function(t,a){let d=a?.[e]?.[n]||i,c=s.useContext(d);if(c)return c;if(void 0!==l)return l;throw Error(`\`${t}\` must be used within \`${r}\``)}]},function(...e){let r=e[0];if(1===e.length)return r;let t=()=>{let t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=t.reduce((r,{useScope:t,scopeName:s})=>{let a=t(e)[`__scope${s}`];return{...r,...a}},{});return s.useMemo(()=>({[`__scope${r.scopeName}`]:a}),[a])}};return t.scopeName=r.scopeName,t}(i,...r)]}},3360:(e,r,t)=>{"use strict";t.d(r,{hO:()=>d,sG:()=>n});var s=t(2115),a=t(7650),l=t(2317),i=t(5155),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,r)=>{let t=s.forwardRef((e,t)=>{let{asChild:s,...a}=e,n=s?l.DX:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(n,{...a,ref:t})});return t.displayName=`Primitive.${r}`,{...e,[r]:t}},{});function d(e,r){e&&a.flushSync(()=>e.dispatchEvent(r))}},1524:(e,r,t)=>{"use strict";t.d(r,{c:()=>a});var s=t(2115);function a(e){let r=s.useRef(e);return s.useEffect(()=>{r.current=e}),s.useMemo(()=>(...e)=>r.current?.(...e),[])}},6611:(e,r,t)=>{"use strict";t.d(r,{N:()=>a});var s=t(2115),a=globalThis?.document?s.useLayoutEffect:()=>{}}},e=>{var r=r=>e(e.s=r);e.O(0,[2,565,900,777,441,517,358],()=>r(8751)),_N_E=e.O()}]);